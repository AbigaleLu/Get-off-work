<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸‹ç­å€’è®¡æ—¶</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* è‡ªå®šä¹‰ CSS æ¥åˆ›å»ºæ¢¦å¹»çš„æ¸å˜èƒŒæ™¯ */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #fce4ec, #e8f5e9, #e1f5fe, #fff9c4);
            background-size: 400% 400%;
            animation: gradientAnimation 15s ease infinite;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* çƒŸèŠ±åŠ¨ç”»çš„è‡ªå®šä¹‰æ ·å¼ */
        .firework-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .firework {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: white;
            animation: sparkle 0.8s ease-out forwards;
        }

        @keyframes sparkle {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            100% {
                transform: scale(1.5);
                opacity: 0;
            }
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div id="component-container" class="relative w-11/12 max-w-sm p-8 bg-white/60 backdrop-blur-md rounded-[32px] shadow-2xl text-center transition-all duration-500 transform hover:scale-105">
        <!-- å€’è®¡æ—¶/é—®å€™è¯­æ˜¾ç¤ºåŒºåŸŸ -->
        <div id="content-display" class="relative z-10">
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-extrabold text-gray-800 tracking-tight leading-tight mb-2">
                <span id="countdown-hours">--</span>:<span id="countdown-minutes">--</span>:<span id="countdown-seconds">--</span>
            </h1>
            <p id="countdown-message" class="text-lg sm:text-xl font-medium text-gray-600">è·ç¦»ä¸‹ç­è¿˜æœ‰</p>
        </div>
        <!-- çƒŸèŠ±å®¹å™¨ -->
        <div id="firework-container" class="firework-container hidden"></div>
    </div>

    <script>
        // å®šä¹‰å…¨å±€å˜é‡ä»¥ä¾›è®¿é—®
        const countdownHours = document.getElementById('countdown-hours');
        const countdownMinutes = document.getElementById('countdown-minutes');
        const countdownSeconds = document.getElementById('countdown-seconds');
        const countdownMessage = document.getElementById('countdown-message');
        const fireworkContainer = document.getElementById('firework-container');
        const componentContainer = document.getElementById('component-container');

        let animationTriggered = false;

        // ç”Ÿæˆéšæœºæ•°
        function getRandom(min, max) {
            return Math.random() * (max - min) + min;
        }

        // å¯åŠ¨çƒŸèŠ±åŠ¨ç”»
        function launchFireworks() {
            if (animationTriggered) return;
            animationTriggered = true;

            fireworkContainer.classList.remove('hidden');

            // çƒŸèŠ±ç²’å­ç”Ÿæˆé€»è¾‘
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.classList.add('firework');
                
                const size = getRandom(4, 12);
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                const startX = getRandom(40, 60);
                const startY = getRandom(40, 60);
                particle.style.left = `${startX}%`;
                particle.style.top = `${startY}%`;

                const endX = getRandom(0, 100);
                const endY = getRandom(0, 100);
                
                const delay = getRandom(0, 500);
                const duration = getRandom(1, 2);

                const color = `hsl(${getRandom(0, 360)}, 100%, 75%)`;
                particle.style.backgroundColor = color;
                
                const transform = `translate(${endX - startX}vw, ${endY - startY}vh)`;
                particle.style.transition = `transform ${duration}s ease-out ${delay}ms, opacity ${duration}s ease-out ${delay}ms`;
                particle.style.transform = transform;
                particle.style.opacity = '0';

                fireworkContainer.appendChild(particle);

                // ç§»é™¤ç²’å­
                setTimeout(() => {
                    fireworkContainer.removeChild(particle);
                    if (fireworkContainer.children.length === 0) {
                        fireworkContainer.classList.add('hidden');
                        animationTriggered = false; // é‡ç½®ï¼Œå…è®¸ä¸‹æ¬¡è§¦å‘
                    }
                }, duration * 1000 + delay + 100);
            }
        }

        // æ›´æ–°å€’è®¡æ—¶
        function updateCountdown() {
            const now = new Date();
            const dayOfWeek = now.getDay();
            const hours = now.getHours();

            // æ£€æŸ¥æ˜¯å¦æ˜¯å·¥ä½œæ—¥ (å‘¨ä¸€åˆ°å‘¨äº”) ä¸”åœ¨17ç‚¹ä¹‹å‰
            if (dayOfWeek >= 1 && dayOfWeek <= 5 && hours < 17) {
                const targetTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 17, 0, 0);
                const timeLeft = targetTime.getTime() - now.getTime();

                if (timeLeft <= 0) {
                    // åˆ°è¾¾ä¸‹ç­æ—¶é—´
                    countdownMessage.textContent = 'ç¥ä½ ä¸‹ç­å¿«ä¹!';
                    countdownHours.textContent = '00';
                    countdownMinutes.textContent = '00';
                    countdownSeconds.textContent = '00';
                    componentContainer.classList.add('bg-pink-100'); // æ”¹å˜èƒŒæ™¯è‰²ä»¥ç¤ºåº†ç¥
                    launchFireworks();
                } else {
                    // è¿˜åœ¨å·¥ä½œæ—¶é—´ï¼Œæ­£å¸¸å€’è®¡æ—¶
                    const totalSeconds = Math.floor(timeLeft / 1000);
                    const h = String(Math.floor(totalSeconds / 3600)).padStart(2, '0');
                    const m = String(Math.floor((totalSeconds % 3600) / 60)).padStart(2, '0');
                    const s = String(totalSeconds % 60).padStart(2, '0');

                    countdownHours.textContent = h;
                    countdownMinutes.textContent = m;
                    countdownSeconds.textContent = s;
                    countdownMessage.textContent = 'è·ç¦»ä¸‹ç­è¿˜æœ‰';
                }
            } else {
                // éå·¥ä½œæ—¶é—´ï¼Œæ˜¾ç¤ºé—®å€™è¯­
                countdownMessage.textContent = 'è¦å¥½å¥½ç”Ÿæ´»ğŸ¥°';
                countdownHours.textContent = '';
                countdownMinutes.textContent = '';
                countdownSeconds.textContent = '';
                componentContainer.classList.remove('bg-pink-100');
            }
        }

        // æ¯ç§’æ›´æ–°ä¸€æ¬¡å€’è®¡æ—¶
        document.addEventListener('DOMContentLoaded', () => {
            updateCountdown();
            setInterval(updateCountdown, 1000);
        });
    </script>
</body>
</html>
