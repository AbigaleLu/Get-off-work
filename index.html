<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸‹ç­å€’è®¡æ—¶</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* è‡ªå®šä¹‰ CSS æ¥åˆ›å»ºæ¢¦å¹»çš„æ¸å˜èƒŒæ™¯ */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #fce4ec, #e8f5e9, #e1f5fe, #fff9c4);
            background-size: 400% 400%;
            animation: gradientAnimation 15s ease infinite;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* çƒŸèŠ±å®¹å™¨ */
        .firework-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* æå‡ z-indexï¼Œç¡®ä¿å®ƒåœ¨å…¶ä»–å†…å®¹ä¹‹ä¸Š */
            z-index: 20;
            pointer-events: none;
            overflow: hidden;
        }

        /* çƒŸèŠ±è¡¨æƒ…ç¬¦å·çš„æ ·å¼ */
        .firework-emoji {
            position: absolute;
            font-size: 3rem; /* è¡¨æƒ…ç¬¦å·çš„å¤§å°ï¼Œè®©å®ƒæ›´æ˜æ˜¾ */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: single-firework 2.5s ease-out forwards;
        }

        @keyframes single-firework {
            0% {
                transform: translate(-50%, -50%) scale(0) rotate(0deg);
                opacity: 1;
            }
            25% {
                transform: translate(-50%, -50%) scale(1.5) rotate(30deg);
                opacity: 1;
            }
            75% {
                transform: translate(-50%, -50%) scale(1.5) rotate(-60deg);
                opacity: 1;
            }
            100% {
                transform: translate(-50%, -50%) scale(1.5) rotate(30deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div id="component-container" class="relative w-11/12 max-w-sm p-8 bg-white/60 backdrop-blur-md rounded-[32px] shadow-2xl text-center transition-all duration-500 transform hover:scale-105">
        <!-- å€’è®¡æ—¶/é—®å€™è¯­æ˜¾ç¤ºåŒºåŸŸ -->
        <div id="content-display" class="relative z-10">
            <p id="countdown-message" class="text-lg sm:text-xl font-medium text-gray-600">è·ç¦»ä¸‹ç­è¿˜æœ‰</p>
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-extrabold text-gray-800 tracking-tight leading-tight mb-2">
                <span id="countdown-hours">--</span>:<span id="countdown-minutes">--</span>:<span id="countdown-seconds">--</span>
            </h1>
        </div>
        <!-- çƒŸèŠ±å®¹å™¨ -->
        <div id="firework-container" class="firework-container hidden"></div>
        
        <!-- æ‰‹åŠ¨è§¦å‘çƒŸèŠ±çš„æŒ‰é’®ï¼Œé»˜è®¤éšè— -->
        <button id="firework-button" class="mt-4 px-6 py-2 bg-gradient-to-r from-pink-300 to-purple-400 text-white font-semibold rounded-full shadow-lg hover:from-pink-400 hover:to-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-300 focus:ring-opacity-50 transition-transform transform hover:scale-105 hidden">
            ç«‹å³æ”¾çƒŸèŠ±
        </button>
    </div>

    <script>
        // å®šä¹‰å…¨å±€å˜é‡ä»¥ä¾›è®¿é—®
        const countdownHours = document.getElementById('countdown-hours');
        const countdownMinutes = document.getElementById('countdown-minutes');
        const countdownSeconds = document.getElementById('countdown-seconds');
        const countdownMessage = document.getElementById('countdown-message');
        const fireworkContainer = document.getElementById('firework-container');
        const componentContainer = document.getElementById('component-container');
        const fireworkButton = document.getElementById('firework-button');

        let animationTriggered = false;

        // ç”Ÿæˆéšæœºæ•°
        function getRandom(min, max) {
            return Math.random() * (max - min) + min;
        }

        // å¯åŠ¨çƒŸèŠ±åŠ¨ç”»
        function launchFireworks() {
            if (animationTriggered) return;
            animationTriggered = true;

            fireworkContainer.classList.remove('hidden');

            const particle = document.createElement('span');
            particle.classList.add('firework-emoji');
            particle.textContent = 'ğŸ‰';
            fireworkContainer.appendChild(particle);

            // ç§»é™¤ç²’å­
            setTimeout(() => {
                fireworkContainer.removeChild(particle);
                fireworkContainer.classList.add('hidden');
                animationTriggered = false; // é‡ç½®ï¼Œå…è®¸ä¸‹æ¬¡è§¦å‘
            }, 2500); // åŠ¨ç”»æŒç»­æ—¶é—´
        }

        // æ›´æ–°å€’è®¡æ—¶
        function updateCountdown() {
            const now = new Date();
            const dayOfWeek = now.getDay();
            const hours = now.getHours();

            // æ£€æŸ¥æ˜¯å¦æ˜¯å·¥ä½œæ—¥ (å‘¨ä¸€åˆ°å‘¨äº”) ä¸”åœ¨17ç‚¹ä¹‹å‰
            if (dayOfWeek >= 1 && dayOfWeek <= 5 && hours < 17) {
                const targetTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 17, 0, 0);
                const timeLeft = targetTime.getTime() - now.getTime();

                if (timeLeft <= 0) {
                    // åˆ°è¾¾ä¸‹ç­æ—¶é—´
                    countdownMessage.textContent = 'ç¥ä½ ä¸‹ç­å¿«ä¹!';
                    countdownHours.textContent = '00';
                    countdownMinutes.textContent = '00';
                    countdownSeconds.textContent = '00';
                    componentContainer.classList.add('bg-pink-100'); // æ”¹å˜èƒŒæ™¯è‰²ä»¥ç¤ºåº†ç¥
                    launchFireworks();
                } else {
                    // è¿˜åœ¨å·¥ä½œæ—¶é—´ï¼Œæ­£å¸¸å€’è®¡æ—¶
                    const totalSeconds = Math.floor(timeLeft / 1000);
                    const h = String(Math.floor(totalSeconds / 3600)).padStart(2, '0');
                    const m = String(Math.floor((totalSeconds % 3600) / 60)).padStart(2, '0');
                    const s = String(totalSeconds % 60).padStart(2, '0');

                    countdownHours.textContent = h;
                    countdownMinutes.textContent = m;
                    countdownSeconds.textContent = s;
                    countdownMessage.textContent = 'è·ç¦»ä¸‹ç­è¿˜æœ‰';
                }
            } else {
                // éå·¥ä½œæ—¶é—´ï¼Œæ˜¾ç¤ºé—®å€™è¯­
                countdownMessage.textContent = 'è¦å¥½å¥½ç”Ÿæ´»ğŸ¥°';
                countdownHours.textContent = '';
                countdownMinutes.textContent = '';
                countdownSeconds.textContent = '';
                componentContainer.classList.remove('bg-pink-100');
            }
        }

        // æ¯ç§’æ›´æ–°ä¸€æ¬¡å€’è®¡æ—¶
        document.addEventListener('DOMContentLoaded', () => {
            updateCountdown();
            setInterval(updateCountdown, 1000);
            
            // ä¸ºæ–°å¢çš„æŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨
            fireworkButton.addEventListener('click', () => {
                launchFireworks();
            });
        });
    </script>
</body>
</html>
